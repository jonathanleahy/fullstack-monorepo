{
  "version": "1.0",
  "subchapterId": "05",
  "lessonId": "00-aws-fundamentals-and-developer-tools",
  "questions": [
    {
      "id": "q1",
      "type": "multiple_choice",
      "difficulty": 2,
      "concept": "Named Profiles",
      "question": "How do you use a named profile called 'production' with an AWS CLI command?",
      "options": [
        "aws s3 ls production",
        "aws s3 ls --profile production",
        "aws s3 ls -p production",
        "aws production s3 ls"
      ],
      "correctIndex": 1,
      "explanation": "Use --profile <name> to specify a named profile. This tells the CLI which set of credentials and settings to use from your config files."
    },
    {
      "id": "q2",
      "type": "code_analysis",
      "difficulty": 3,
      "concept": "Profile Configuration",
      "question": "What will happen when you run a command with this profile configured?",
      "codeSnippet": "[profile prod-role]\nrole_arn = arn:aws:iam::333333333333:role/DeveloperRole\nsource_profile = base-account\nmfa_serial = arn:aws:iam::000000000000:mfa/alex",
      "language": "ini",
      "options": [
        "The command will fail because MFA is not supported",
        "The CLI will assume the role and prompt for MFA code",
        "The CLI will use the base-account credentials directly",
        "The CLI will create a new IAM role automatically"
      ],
      "correctIndex": 1,
      "explanation": "With role_arn, source_profile, and mfa_serial configured, the CLI uses base-account credentials to assume the role, prompting for MFA verification first."
    },
    {
      "id": "q3",
      "type": "true_false",
      "difficulty": 2,
      "concept": "Config File Format",
      "question": "In the ~/.aws/config file, named profiles must include the word 'profile' before the name (e.g., [profile staging]).",
      "correctAnswer": true,
      "explanation": "In ~/.aws/config, profiles need the 'profile' prefix like [profile staging]. However, in ~/.aws/credentials, profiles don't use this prefix - just [staging]."
    },
    {
      "id": "q4",
      "type": "multiple_select",
      "difficulty": 3,
      "concept": "Environment Variables",
      "question": "Which environment variables can be used to configure AWS CLI credentials? (Select ALL that apply)",
      "options": [
        "AWS_ACCESS_KEY_ID",
        "AWS_SECRET_ACCESS_KEY",
        "AWS_SESSION_TOKEN",
        "AWS_PROFILE",
        "AWS_DEFAULT_REGION"
      ],
      "correctIndices": [0, 1, 2, 3, 4],
      "minSelections": 3,
      "maxSelections": 5,
      "explanation": "All of these are valid AWS environment variables. AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY provide credentials, AWS_SESSION_TOKEN for temporary credentials, AWS_PROFILE selects a profile, and AWS_DEFAULT_REGION sets the region."
    },
    {
      "id": "q5",
      "type": "matching",
      "difficulty": 4,
      "concept": "Profile Settings",
      "question": "Match each profile configuration option with its purpose:",
      "leftColumn": ["role_arn", "source_profile", "mfa_serial", "region"],
      "rightColumn": ["Specifies the default region for operations", "Identifies the MFA device for verification", "The IAM role to assume", "Which profile provides base credentials"],
      "correctPairs": [[0, 2], [1, 3], [2, 1], [3, 0]],
      "explanation": "role_arn specifies the role to assume, source_profile identifies which profile has the credentials to use, mfa_serial is the MFA device ARN, and region sets the default region."
    },
    {
      "id": "q6",
      "type": "multiple_choice",
      "difficulty": 3,
      "concept": "AWS SSO",
      "question": "What command is used to authenticate with AWS SSO (IAM Identity Center)?",
      "options": [
        "aws configure --sso",
        "aws sso login --profile <profile-name>",
        "aws sts assume-role-with-sso",
        "aws iam authenticate-sso"
      ],
      "correctIndex": 1,
      "explanation": "Use 'aws sso login --profile <profile-name>' to authenticate with AWS SSO. This opens a browser for authentication and retrieves temporary credentials."
    }
  ]
}
